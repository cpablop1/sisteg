<form class="border rounded shadow-lg p-5 mt-5" id="form_agregar" hidden>
    {% csrf_token %}
    <div class="row">
        <div class="col-12 col-md-3 text-center">
            <label for="cliente_id" class="form-label">Cliente:</label>
            <div class="d-flex justify-content-center align-items-center">
                <select name="cliente_id" id="cliente_id" class="form-select" style="width: 100%;"></select>
                <i class="fa-solid fa-square-plus btn btn-primary btn-lg" id="agregar_cliente"></i>
            </div>
        </div>
        <div class="col-12 col-md-3 text-center">
            <label for="tipo_pago_id" class="form-label">Tipo de pago:</label>
            <select name="tipo_pago_id" id="tipo_pago_id" class="form-select"></select>
        </div>
        <div class="col-12 col-md-3 text-center">
            <label for="tipo_servicio_id" class="form-label">Tipo de servicio:</label>
            <select name="tipo_servicio_id" id="tipo_servicio_id" class="form-select"></select>
        </div>
        <div class="col-12 col-md-3">
            <div class="d-flex flex-column text-center">
                <label for="btn-buscar-productos" class="form-label">Agregar productos:</label>
                <span class="btn btn-light" id="btn-buscar-productos">
                    <i class="fa-solid fa-magnifying-glass p-1"></i>
                    Buscar
                </span>
            </div>
        </div>
    </div>
    <input type="text" name="servicio_id" id="id" hidden>
    <div class="row my-2">
        <div class="col-12 col-md-12">
            <p id="telefono"></p>
        </div>
    </div>
    <div class="row my-2">
        <div class="col-12 col-md-12">
            <label for="nota" class="form-label">Nota del técnico:</label>
            <textarea class="form-control" rows="3" name="nota" id="nota"
                placeholder="Área donde se visualiza las observaciones del técnico"
                readonly>Observaciones del técnico</textarea>
        </div>
    </div>
    <div class="row my-2">
        <div class="col-12 col-md-12">
            <label for="observacion" class="form-label">Descripción del mantenimiento:</label>
            <textarea class="form-control" rows="3" name="observacion" id="observacion"
                placeholder="Describe el trabajo de mantenimiento a realizar (Obligatorio)"></textarea>
        </div>
    </div>
    <div class="row my-2">
        <div class="col-12 col-md-4 text-center">
            <label for="rol_usuario_id" class="form-label">Técnico asignado:</label>
            <select name="rol_usuario_id" id="rol_usuario_id" class="form-select"></select>
        </div>
        <div class="col-12 col-md-8 d-flex justify-content-end">
            <div>
                <label for="subtotal" class="form-label text-center">Subtotal del servicio:</label>
                <h4 class="bg-light p-2 text-center" id="subtotal">Q. 00</h3>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="table-responsive">
                <table class="table" id="tbl_listar_carrito">
                    <thead>
                        <tr class="text-center">
                            <th scope="col">Cantidad</th>
                            <th scope="col">Producto</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Total</th>
                            <th scope="col">Eliminar</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="mb-3 d-flex justify-content-end">
        <button type="button" class="btn btn-primary mx-2" id="crear_cotizacion"><i
                class="fa-solid fa-square-check"></i> Crear cotización</button>
        <button type="button" class="btn btn-primary mx-2" id="finalizar_cotizacion" hidden><i
                class="fa-solid fa-square-check"></i>
            Enviar a venta</button>
        <button type="button" class="btn btn-warning mx-2" id="actualizar_cotizacion" hidden><i
                class="fa-solid fa-square-check"></i>
            Actualizar cotización</button>
        <button type="button" class="btn btn-secondary" id="eliminar_cotizacion" hidden><i
                class="fa-solid fa-trash"></i>
            Eliminar</button>
    </div>
</form>

{% include 'compra/buscar_productos.html' %}